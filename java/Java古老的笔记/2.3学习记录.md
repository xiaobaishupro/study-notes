### 2.3学习记录

#### 1.线程池的知识

```java
public ThreadPoolExecutor(
  int corePoolSize, // 线程池长期维持的最小线程数，即使线程处于Idle状态，也不会回收。
  int maximumPoolSize, // 线程数的上限
  long keepAliveTime, // 线程最大生命周期。
  TimeUnit unit, //时间单位                                 
  BlockingQueue<Runnable> workQueue, //任务队列。当线程池中的线程都处于运行状态，而此时任务数量继续增加，则需要一个容器来容纳这些任务，这就是任务队列。
  ThreadFactory threadFactory, // 线程工厂。定义如何启动一个线程，可以设置线程名称，并且可以确认是否是后台线程等。
  RejectedExecutionHandler handler // 拒绝任务处理器。由于超出线程数量和队列容量而对继续增加的任务进行处理的程序。
```

- 四种拒绝策略（被写在了ThreadPoolExecutor类中）


CallerRunsPolicy：线程池让调用者去执行。

AbortPolicy：如果线程池拒绝了任务，直接报错。

DiscardPolicy：如果线程池拒绝了任务，直接丢弃。

DiscardOldestPolicy：如果线程池拒绝了任务，直接将线程池中最旧的，未运行的任务丢弃，将新任务入队。

- ```
  ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(
          3,
          5,
          10,
          TimeUnit.SECONDS,
          new ArrayBlockingQueue<Runnable>(5),
          Executors.defaultThreadFactory(),
          new ThreadPoolExecutor.AbortPolicy()
  );
  ```